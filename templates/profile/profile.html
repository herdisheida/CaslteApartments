{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="d-flex justify-content-center">
  <div class="profile-container">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}

      <!-- Profile Picture -->
        {% if user.is_authenticated %}
        <div class="profile-pic-in-profile" style="background-image: {% if user.userprofile.image %}url({{ user.userprofile.image.url }}){% else %}url({% static 'images/default_profile_pic.png' %}){% endif %}"></div>
        {% endif %}

      <!-- Display name and email above form -->
        <div>
          <div class="profile-name">{{ profile.name }}</div>
          <div class="profile-email">{{ profile.user.email }}</div>

      <!-- Form fields -->
      {% for field in form %}
        <div class="form-group">
          {{ field.label_tag }}
          {{ field }}
          {% if field.errors %}
            <div class="text-danger small">{{ field.errors }}</div>
          {% endif %}
        </div>
      {% endfor %}

        </div>

      <button type="submit" class="submit-btn">Save Changes</button>
    </form>
  </div>
</div>
{% endblock %}
